<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<style>
			body {
				background-color: #ffffff;
				margin: 0;
				overflow: hidden;
			}
		</style>
	</head>
	<body>
		
		<script src="http://threejsplaygnd.brangerbriz.net/js/three.min.js"></script>
		<script src="http://threejsplaygnd.brangerbriz.net/js/Detector.js"></script>
		<script>

			if ( ! Detector.webgl ) Detector.addGetWebGLMessage();
			
			var camera, scene, renderer;
			var geometry, material, mesh;

			function setup() {

				var W = window.innerWidth, H = window.innerHeight;
				renderer = new THREE.WebGLRenderer();
				renderer.setSize( W, H );
				document.body.appendChild( renderer.domElement );

				camera = new THREE.PerspectiveCamera( 50, W/H, 1, 10000 );
				camera.position.z = 500;

				scene = new THREE.Scene();
				
				
				var points = [
				new THREE.Vector3( 100, 0, -40 ),
				new THREE.Vector3( 111.68, 0, -36 ),
				new THREE.Vector3( 121.52, 0, -32 ),
				new THREE.Vector3( 127.96, 0, -28 ),
				new THREE.Vector3( 129.99, 0, -24 ),
				new THREE.Vector3( 127.28, 0, -20 ),
				new THREE.Vector3( 120.26, 0, -16 ),
				new THREE.Vector3( 110.05, 0, -12 ),
				new THREE.Vector3( 98.25, 0, -8 ),
				new THREE.Vector3( 86.72, 0, -4 ),
				new THREE.Vector3( 77.3, 0, 0 ),
				new THREE.Vector3( 71.45, 0, 4 ),
				new THREE.Vector3( 70.12, 0, 8 ),
				new THREE.Vector3( 73.5, 0, 12 ),
				new THREE.Vector3( 81.06, 0, 16 ),
				new THREE.Vector3( 91.62, 0, 20 ),
				new THREE.Vector3( 103.5, 0, 24 ),
				new THREE.Vector3( 114.82, 0, 28 ),
				new THREE.Vector3( 123.81, 0, 32 ),
				new THREE.Vector3( 129.04, 0, 36 ),
				new THREE.Vector3( 129.68, 0, 40 ),
				new THREE.Vector3( 125.64, 0, 44 ),
				new THREE.Vector3( 117.55, 0, 48 ),
				new THREE.Vector3( 106.69, 0, 52 ),
				new THREE.Vector3( 94.77, 0, 56 ),
				new THREE.Vector3( 83.68, 0, 60 ),
				new THREE.Vector3( 75.17, 0, 64 ),
				new THREE.Vector3( 70.57, 0, 68 ),
				new THREE.Vector3( 70.62, 0, 72 ),
				new THREE.Vector3( 75.32, 0, 76 ),
				new THREE.Vector3( 83.9, 0, 80 ),
				new THREE.Vector3( 95.03, 0, 84 ),
				new THREE.Vector3( 106.95, 0, 88 ),
				new THREE.Vector3( 117.76, 0, 92 ),
				new THREE.Vector3( 125.77, 0, 96 ),
				new THREE.Vector3( 129.72, 0, 100 ),
				new THREE.Vector3( 128.97, 0, 104 ),
				new THREE.Vector3( 123.65, 0, 108 ),
				new THREE.Vector3( 114.59, 0, 112 ),
				new THREE.Vector3( 103.23, 0, 116 ),
				new THREE.Vector3( 91.36, 0, 120 ),
				new THREE.Vector3( 80.86, 0, 124 ),
				new THREE.Vector3( 73.37, 0, 128 ),
				new THREE.Vector3( 70.09, 0, 132 ),
				new THREE.Vector3( 71.53, 0, 136 ),
				new THREE.Vector3( 77.47, 0, 140 ),
				new THREE.Vector3( 86.96, 0, 144 ),
				new THREE.Vector3( 98.51, 0, 148 ),
				new THREE.Vector3( 110.3, 0, 152 ),
				new THREE.Vector3( 120.46, 0, 156 ),
				new THREE.Vector3( 127.39, 0, 160 ),
				new THREE.Vector3( 129.99, 0, 164 ),
				new THREE.Vector3( 127.86, 0, 168 ),
				new THREE.Vector3( 121.33, 0, 172 ),
				new THREE.Vector3( 111.44, 0, 176 ),
				new THREE.Vector3( 99.73, 0, 180 ),
				new THREE.Vector3( 88.07, 0, 184 ),
				new THREE.Vector3( 78.3, 0, 188 ),
				new THREE.Vector3( 71.94, 0, 192 ),
				new THREE.Vector3( 70.02, 0, 196 ),
				new THREE.Vector3( 72.83, 0, 200 ),
				new THREE.Vector3( 79.93, 0, 204 ),
				new THREE.Vector3( 90.2, 0, 208 ),
				new THREE.Vector3( 102.02, 0, 212 ),
				new THREE.Vector3( 113.51, 0, 216 ),
				new THREE.Vector3( 122.88, 0, 220 ),
				new THREE.Vector3( 128.63, 0, 224 ),
				new THREE.Vector3( 129.86, 0, 228 ),
				new THREE.Vector3( 126.38, 0, 232 ),
				new THREE.Vector3( 118.73, 0, 236 ),
				new THREE.Vector3( 108.13, 0, 240 ),
				new THREE.Vector3( 96.24, 0, 244 ),
				new THREE.Vector3( 84.95, 0, 248 ),
				new THREE.Vector3( 76.03, 0, 252 ),
				new THREE.Vector3( 70.9, 0, 256 ),
				new THREE.Vector3( 70.36, 0, 260 ),
				new THREE.Vector3( 74.5, 0, 264 ),
				new THREE.Vector3( 82.67, 0, 268 ),
				new THREE.Vector3( 93.57, 0, 272 ),
				new THREE.Vector3( 105.49, 0, 276 ),
				new THREE.Vector3( 116.54, 0, 280 ),
				new THREE.Vector3( 124.98, 0, 284 ),
				new THREE.Vector3( 129.48, 0, 288 ),
				new THREE.Vector3( 129.32, 0, 292 ),
				new THREE.Vector3( 124.53, 0, 296 ),
				new THREE.Vector3( 115.87, 0, 300 ),
				new THREE.Vector3( 104.71, 0, 304 ),
				new THREE.Vector3( 92.8, 0, 308 ),
			];
			
			geometry = new THREE.LatheGeometry(points, 50);
			material = new THREE.MeshNormalMaterial({shading: THREE.FlatShading, side: THREE.DoubleSide, wireframe: true, wireframeLinewidth: 1, transparent: true, opacity: 1});
			mesh = new THREE.Mesh(geometry, material);
			mesh.scale.x = mesh.scale.y = mesh.scale.z = 1.59;
			mesh.position.y = 59.56;
			mesh.rotation.x = 6.09;
			mesh.rotation.y = 0.71;
			mesh.rotation.z = 1.85;
			mesh.castShadow = true;
			scene.add(mesh);
			
			wgeometry = new THREE.PlaneGeometry( 1000, 1000, 100, 100 );
			wmaterial = new THREE.MeshBasicMaterial( { color: 0x000000, wireframe: true, wireframeLinewidth: 1 } );
			wireplane = new THREE.Mesh( wgeometry, wmaterial );
			wireplane.scale.set( 15.07, 15.07, 15.07 );
			wireplane.rotation.x = - Math.PI / 2;
			scene.add( wireplane );
			
			pgeometry = new THREE.PlaneGeometry( 1000, 1000, 20, 20 );
			map = THREE.ImageUtils.loadTexture('../texturez/dots.jpg');
			pmaterial = new THREE.MeshPhongMaterial({ map: map });
			map.wrapS = map.wrapT = THREE.RepeatWrapping;
			map.repeat.set( 80, 80 );
			plane = new THREE.Mesh( pgeometry, pmaterial );
			plane.rotation.x = - Math.PI / 2;
			plane.receiveShadow	= true;
			plane.scale.set( 30, 30, 30 );
			scene.add( plane );
			
			bg = document.body.style;
			bg.background = '#78ffa2';
			
			renderer.shadowMapEnabled = true;
			
			scene.fog = new THREE.Fog( 0xff7070, 1, 2427.09 );ambientLight = new THREE.AmbientLight( 0x000000 );
			scene.add( ambientLight );
			
			hemisphereLight = new THREE.HemisphereLight(0x000000, 0x000000, 7.22);
			scene.add( hemisphereLight );
			
			directionalLight = new THREE.DirectionalLight(0x000000, 0.81);
			directionalLight.position.set( 2.44, 1, 0 );
			directionalLight.castShadow = true;
			scene.add( directionalLight );
			
			spotLight1 = new THREE.SpotLight( 0x000000, 2.14 );
			spotLight1.position.set( 100, 1000, 100 );
			spotLight1.castShadow = true;
			spotLight1.shadowDarkness = 0.2;
			scene.add( spotLight1 );
			
			spotLight2 = new THREE.SpotLight( 0x000000, 6.18 );
			spotLight2.position.set( 146.99, 1000, 301.4 );
			spotLight2.castShadow = true;
			spotLight2.shadowDarkness = 0.3;
			scene.add( spotLight2 );

					geometry = new THREE.Geometry();
				for ( i = 0; i < 5000; i ++ ) {
					var vertex = new THREE.Vector3();
					vertex.x = 1000 * Math.random() - 50;
					vertex.y = 1000 * Math.random() - 50;
					vertex.z = 1000 * Math.random() - 50;
					geometry.vertices.push( vertex );
				}
				material = new THREE.ParticleBasicMaterial( { size: 10, sizeAttenuation: false, transparent: true } );
				material.color.setHex( 0xff00ff );
				particles = new THREE.ParticleSystem( geometry, material );
				particles.sortParticles = true;
				scene.add( particles );


			}

			function draw() {

				requestAnimationFrame( draw );
					
					mesh.rotation.x = Date.now() * 0.0005;	
				mesh.rotation.y = Date.now() * 0.0002;	
				mesh.rotation.z = Date.now() * 0.001;
				
				particles.rotation.y = Date.now() * 0.00005;
				var time = Date.now() * 0.0005;
				h = ( 360 * ( 1.0 + time ) % 360 ) / 360;
				material.color.setHSL( h, 0.5, 0.5 );

				renderer.render( scene, camera );

			}

			setup();
			draw();

		</script>
		
	</body>
</html>
